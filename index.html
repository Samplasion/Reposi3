<!DOCTYPE html>
<html lang="en">
<head>
  <title>Samplasion's Repo</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>

<div class="container">
	<h1><img src="CydiaIcon.png"> Samplasion's Repo</h1>
</div>

<div class="container">
	<div class="well">
		<p><span class="text-primary"><b>Samplasion's Repo</span></b> is my Cydia repository.</p>
		<a class="btn btn-sm btn-default" href="cydia://url/https://cydia.saurik.com/api/share#?source=https://samplasion.github.io/cydia/">Add to Cydia</a>
	</div>
</div>

<div class="container">
  <h3 id="wells" class="page-header">Hosted Packages</h3>
</div>

<div class="container" id="tweakslist">
	<div class="panel panel-default">
	  <div class="panel-heading">iPhoneX DockXI</div>
	  <div class="panel-body">
		The iPhone X dock for iPhone 5/5S/SE. Not compatible with bigger devices, use at your own risk.<br /><br />
		<a class="btn btn-xs btn-default" href="depictions/?p=com.yourepo.samplasion.iphonexdockxi">More info</a>
	  </div>
	</div>

	<div class="panel panel-default">
	  <div class="panel-heading">Zeppelin</div>
	  <div class="panel-body">
		Replaces carrier text with an image!<br /><br />
		<a class="btn btn-xs btn-default" href="depictions/?p=com.alexzielenski.zeppelin">More info</a>
	  </div>
	</div>

	<div class="panel panel-default">
	  <div class="panel-heading">Activator</div>
	  <div class="panel-body">
		Centralized gestures, button and shortcut management for iOS<br /><br />
		<a class="btn btn-xs btn-default" href="depictions/?p=libactivator">More info</a>
	  </div>
	</div>

	<div class="panel panel-default">
	  <div class="panel-heading">dpkg-test</div>
	  <div class="panel-body">
		A test for dpkg.<br /><br />
		<a class="btn btn-xs btn-default" href="depictions/?p=com.samplasion.dpkg-test">More info</a>
	  </div>
	</div>

	<div class="panel panel-default">
	  <div class="panel-heading">ColorMyCCModules</div>
	  <div class="panel-body">
		Colorize your Control Center Modules!<br /><br />
		<a class="btn btn-xs btn-default" href="depictions/?p=com.ikilledappl3.colormyyccmodules">More info</a>
	  </div>
	</div>

	<div class="panel panel-default">
	  <div class="panel-heading">ColorBadges</div>
	  <div class="panel-body">
		Colorize your badges<br /><br />
		<a class="btn btn-xs btn-default" href="depictions/?p=com.colorbadges">More info</a>
	  </div>
	</div>
</div>

<script>
function readTextFile(file) {
  return new Promise((res, rej) => {
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function () {
        if(rawFile.readyState === 4) {
            if(rawFile.status === 200 || rawFile.status == 0) {
                var allText = rawFile.responseText;
                res(allText);
            }
        }
    }
    rawFile.send(null);
    setTimeout(() => rej(""), 10000)
  })
}

readTextFile("http://www.samplasion.tk/cydia/Packages").then(text => {

  var packages = text.split("\n\n")

  packages.forEach(package => {
    var metadata = {}
    package.split("\n").forEach(pm => {
      metadata[pm.split(": ")[0]] = pm.split(": ")[1]
    })

    var div = $("<div>")
    div.html(`
      <div class="panel-heading">${metadata.Name} ${metadata.Version}</div>
  	  <div class="panel-body">
  		${metadata.Description}<br /><br />
  		<a class="btn btn-xs btn-default" href="depictions/?p=${metadata.Package}">More info</a>
  	  </div>
      `)
    div.addClass("panel")
    div.addClass("panel-default")
    $("#tweakslist").append(div)
  })
})
</script>

</body>
</html>
